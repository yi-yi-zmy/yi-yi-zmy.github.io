(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1cc2a254"],{5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var o=n("1d80"),a=n("5899"),s="["+a+"]",r=RegExp("^"+s+s+"*"),i=RegExp(s+s+"*$"),c=function(e){return function(t){var n=String(o(t));return 1&e&&(n=n.replace(r,"")),2&e&&(n=n.replace(i,"")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},"6e2b":function(e,t,n){},7156:function(e,t,n){var o=n("861d"),a=n("d2bb");e.exports=function(e,t,n){var s,r;return a&&"function"==typeof(s=t.constructor)&&s!==n&&o(r=s.prototype)&&r!==n.prototype&&a(e,r),e}},7961:function(e,t,n){"use strict";var o=n("6e2b"),a=n.n(o);a.a},a9e3:function(e,t,n){"use strict";var o=n("83ab"),a=n("da84"),s=n("94ca"),r=n("6eeb"),i=n("5135"),c=n("c6b6"),u=n("7156"),l=n("c04e"),f=n("d039"),m=n("7c73"),p=n("241c").f,h=n("06cf").f,d=n("9bf2").f,v=n("58a8").trim,g="Number",b=a[g],w=b.prototype,_=c(m(w))==g,I=function(e){var t,n,o,a,s,r,i,c,u=l(e,!1);if("string"==typeof u&&u.length>2)if(u=v(u),t=u.charCodeAt(0),43===t||45===t){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:o=2,a=49;break;case 79:case 111:o=8,a=55;break;default:return+u}for(s=u.slice(2),r=s.length,i=0;i<r;i++)if(c=s.charCodeAt(i),c<48||c>a)return NaN;return parseInt(s,o)}return+u};if(s(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var N,k=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof k&&(_?f((function(){w.valueOf.call(n)})):c(n)!=g)?u(new b(I(t)),n,k):I(t)},E=o?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;E.length>S;S++)i(b,N=E[S])&&!i(k,N)&&d(k,N,h(b,N));k.prototype=w,w.constructor=k,r(a,g,k)}},b953:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("div",{staticClass:"register_from"},[n("van-form",[n("van-field",{class:1==e.gaoShow?"van-field":"van-field-active",attrs:{name:"用户名",placeholder:"请输入手机号"},on:{click:function(t){return e.gao(1)}},scopedSlots:e._u([{key:"button",fn:function(){return[n("van-button",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"waw_button",attrs:{size:"small"},on:{click:e.getCode}},[e._v("发送验证码")]),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"count"},[e._v(e._s(e.count)+" s")])]},proxy:!0}]),model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),n("van-field",{class:2==e.gaoShow?"van-field":"van-field-active",attrs:{name:"短信验证码",placeholder:"请输入短信验证码"},on:{click:function(t){return e.gao(2)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("div",{staticClass:"register_from_tiaozhuan"},[n("span",[e._v("*未注册的手机号将自动注册")]),n("span",{on:{click:e.toLogins}},[e._v("使用密码登录")])]),n("div",{staticStyle:{margin:"0.8rem","margin-top":"1rem"}},[n("van-button",{attrs:{round:"",block:"",type:"warning"},on:{click:e.onSubmit}},[e._v(" 提交 ")])],1)],1)],1)])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login_logo"},[n("img",{staticClass:"login_logo_img",attrs:{src:"https://msmk2019.oss-cn-shanghai.aliyuncs.com/uploads/image/2019pILfAg7Avr1567732916.png",alt:""}})])}],s=(n("a9e3"),n("2b0e")),r=n("d399");s["a"].use(r["a"]);var i={data:function(){return{username:"",password:"",show:!0,count:"",timer:null,gaoShow:0}},methods:{gao:function(e){this.gaoShow=e},onSubmit:function(){var e=this,t={mobile:Number(this.username),sms_code:Number(this.password),type:2,client:1};this.$ClientAPI.loginGetToken(t).then((function(t){console.log(t);var n=t.data.data.remember_token,o=t.data.data.mobile;localStorage.setItem("mobile",o),localStorage.setItem("token",n);var a=t.data.data.is_new;1==a?e.$router.push("/setPassword"):2==a&&(e.$router.push("/mine"),r["a"].success({message:"登录成功",position:"top"}))})).catch((function(e){console.log(e),r["a"].fail({message:"登录失败",position:"top"})}))},toLogins:function(){this.$router.push({path:"/login"})},getCode:function(){var e=this,t=/^[1]([3-9])[0-9]{9}$/;if(t.test(this.username)){var n=60;if(!this.timer){this.count=n,this.show=!1,this.timer=setInterval((function(){e.count>0&&e.count<=n?e.count--:(e.show=!0,clearInterval(e.timer),e.timer=null)}),1e3);var o={mobile:Number(this.username),sms_type:"login"};console.log(o.mobile),this.$ClientAPI.VerificationCode(o).then((function(t){console.log(t);var n=t.data.code;if(console.log(n),200!=n)return Object(r["a"])("".concat(t.data.msg)),void(e.show=!0);r["a"].success({message:"验证码已发送",position:"center"})})).catch((function(e){console.log(e)}))}}else Object(r["a"])({message:"手机号码格式不正确！！！",position:"center"})}}},c=i,u=(n("7961"),n("2877")),l=Object(u["a"])(c,o,a,!1,null,"676e78d1",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-1cc2a254.bb905e97.js.map