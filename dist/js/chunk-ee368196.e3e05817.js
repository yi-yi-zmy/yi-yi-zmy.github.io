(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee368196"],{"197a":function(t,a,e){"use strict";var s=e("8bc6"),n=e.n(s);n.a},"73d1":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("van-nav-bar",{attrs:{title:this.$route.meta.navTitle,placeholder:!0},scopedSlots:t._u([{key:"left",fn:function(){return[e("van-icon",{attrs:{name:"arrow-left",color:"black"},on:{click:t.onClickBack}})]},proxy:!0}])})],1)},n=[],i={methods:{onClickBack:function(){this.$router.go(-1)}}},o=i,c=e("2877"),r=Object(c["a"])(o,s,n,!1,null,"0ac30f30",null);a["a"]=r.exports},"8bc6":function(t,a,e){},e923:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("NavTitle"),e("div",{staticClass:"waw_hidden"}),e("div",{staticClass:"waw_person_container"},[e("div",{staticClass:"waw_person_wrapper"},[e("div",{staticClass:"waw_img"},[e("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.onChangeImage}}),e("div",{staticClass:"waw_img_title"},[t._v("头像")]),e("div",{staticClass:"waw_img_box",on:{click:function(a){t.showImg=!0}}},[e("img",{attrs:{src:t.PersonMessage.avatar}}),e("van-icon",{attrs:{name:"arrow",color:"lightgray"}})],1)]),e("div",{staticClass:"waw_person"},[e("div",[t._v("昵称")]),e("div",{staticClass:"waw_user_box",on:{click:t.onClickChangeNickname}},[e("div",[e("span",[t._v(t._s(t.PersonMessage.nickname))])]),e("van-icon",{attrs:{name:"arrow",color:"lightgray"}})],1)]),e("div",{staticClass:"waw_person"},[e("div",[t._v("手机号")]),e("span",{staticClass:"waw_mobile"},[t._v(t._s(t.PersonMessage.mobile))])]),e("div",{staticClass:"waw_person"},[e("div",[t._v("性别")]),e("div",{staticClass:"waw_sex_box",on:{click:t.onClickChangeSex}},[e("span",[t._v(t._s(t.sex))]),e("van-icon",{attrs:{name:"arrow",color:"lightgray"}})],1)]),e("div",{staticClass:"waw_person"},[e("div",[t._v("出生日期")]),e("div",{staticClass:"waw_time_box",on:{click:function(a){t.showTime=!0}}},[e("span",[t._v(t._s(t.time))]),e("van-icon",{attrs:{name:"arrow",color:"lightgray"}})],1)]),e("div",{staticClass:"waw_person"},[e("div",{staticClass:"waw_city_box"},[t._v("所在城市")]),e("div",{staticClass:"waw_address_box",on:{click:t.onClickCity}},[e("div",[e("span",[t._v(t._s(t.PersonMessage.province_name)+" "+t._s(t.PersonMessage.city_name)+" "+t._s(t.PersonMessage.district_name))])]),e("van-icon",{attrs:{name:"arrow",color:"lightgray"}})],1)]),e("div",{staticClass:"waw_person"},[e("div",[t._v("学科")]),e("div",{staticClass:"waw_subject_box",on:{click:t.onClickSubject}},[e("div",t._l(t.subject,(function(a,s){return e("span",{key:s},[t._v(t._s(a))])})),0),e("van-icon",{attrs:{name:"arrow",color:"lightgray"}})],1)]),e("div",{staticClass:"waw_person"},[e("div",[t._v("年级")]),e("div",{staticClass:"waw_class_box",on:{click:function(a){t.showPicker=!0}}},[e("div",[t._v(t._s(t.valueClass))]),e("van-icon",{attrs:{name:"arrow",color:"lightgray"}})],1)])])]),e("van-popup",{style:{height:"30%"},attrs:{position:"bottom"},model:{value:t.showImg,callback:function(a){t.showImg=a},expression:"showImg"}},[e("div",{staticClass:"waw_popup_box"},[e("div",{staticClass:"waw_popup_wrapper"},[e("p",[t._v("拍照")]),e("p",{on:{click:t.onClickUpdateImage}},[t._v("从手机相册选择")]),e("p",{on:{click:function(a){t.showImg=!1}}},[t._v("取消")])])])]),e("van-popup",{style:{height:"45%"},attrs:{position:"bottom"},model:{value:t.showTime,callback:function(a){t.showTime=a},expression:"showTime"}},[e("van-datetime-picker",{attrs:{type:"date",title:"选择年月日","min-date":t.minDate,"max-date":t.maxDate},on:{cancel:function(a){t.showTime=!1},confirm:t.onConfirm},model:{value:t.currentDate,callback:function(a){t.currentDate=a},expression:"currentDate"}})],1),e("van-popup",{style:{height:"45%"},attrs:{position:"bottom"},model:{value:t.showAddress,callback:function(a){t.showAddress=a},expression:"showAddress"}},[e("van-area",{attrs:{"area-list":t.areaList,value:t.PersonMessage.district_id+""},on:{cancel:function(a){t.showAddress=!1},confirm:t.onClickConfirm,change:t.OnChangeCity}})],1),e("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.showPicker,callback:function(a){t.showPicker=a},expression:"showPicker"}}),e("van-popup",{style:{height:"45%"},attrs:{position:"bottom"},model:{value:t.showPicker,callback:function(a){t.showPicker=a},expression:"showPicker"}},[e("van-picker",{attrs:{columns:t.columns,"show-toolbar":""},on:{cancel:function(a){t.showPicker=!1},confirm:t.onConfirms}})],1)],1)},n=[],i=(e("99af"),e("73d1")),o=e("d399"),c={components:{NavTitle:i["a"]},data:function(){return{sex:"",PersonMessage:[],time:"",Address:localStorage.getItem("Address")||"请选择你的地址",subject:JSON.parse(localStorage.getItem("result"))||["语文"],valueClass:localStorage.getItem("valueClass")||"请选择",showImg:!1,showTime:!1,showAddress:!1,showPicker:!1,minDate:new Date(1980,0,1),maxDate:new Date(2025,10,1),currentDate:new Date(1980,0,1),area:[],areaObj:{},areaObj2:{},areaList:{province_list:{},city_list:{},county_list:{}},columns:["小学一年级","小学二年级","小学三年级","小学四年级","小学五年级","小学六年级","初一","初二","初三","高一","高二","高三"]}},mounted:function(){this.getDate(),this.$ClientAPI.NianClass().then((function(t){})).catch((function(t){console.log(t)}))},methods:{getDate:function(){var t=this;this.$ClientAPI.PersonMessage().then((function(a){console.log(a.data.data),t.PersonMessage=a.data.data,t.time=t.PersonMessage.birthday;var e=a.data.data;0==e.sex?t.sex="男":1==e.sex?t.sex="女":3==e.sex&&(t.sex="保密")}))},onClickUpdateImage:function(){this.$refs.file.click()},onChangeImage:function(){var t=this,a=new FormData;console.log(a),console.log(event),a.append("file",event.target.files[0]),this.$ClientAPI.changeImage(a).then((function(a){t.$ClientAPI.UserChange({avatar:a.data.data.path}).then((function(a){t.getDate(),t.showImg=!1}));setTimeout((function(){o["a"].success("修改头像成功")}),1e3)})).catch((function(t){console.log(t)}))},onClickChangeNickname:function(){this.$router.push({path:"/nickname",query:{name:this.PersonMessage.nickname}})},onClickChangeSex:function(){this.$router.push("/sex")},onConfirm:function(t){var a=this;console.log(t);var e=t.getFullYear(),s=t.getMonth()+1,n=t.getDate()>9?t.getDate():"0"+t.getDate();this.time="".concat(e,"-").concat(s,"-").concat(n),this.$ClientAPI.UserChange({birthday:this.time}).then((function(t){console.log(t),a.getDate(),a.showTime=!1}))},onClickCity:function(){this.showAddress=!0,this.getCity()},OnChangeCity:function(t,a,e){var s=this;switch(e){case 0:this.$ClientAPI.sonArea(a[e].code).then((function(t){s.areaList.city_list=s.getChangeCity(t.data.data);var a=t.data.data;s.$ClientAPI.sonArea(a[0].id).then((function(t){s.areaList.county_list=s.getChangeCity(t.data.data)}))}));break;case 1:this.$ClientAPI.sonArea(a[e].code).then((function(t){s.areaList.county_list=s.getChangeCity(t.data.data)}));break}},getCity:function(){var t=this;this.$ClientAPI.sonArea(0).then((function(a){t.areaList.province_list=t.getChangeCity(a.data.data);var e=a.data.data;t.$ClientAPI.sonArea(t.PersonMessage.province_id?t.PersonMessage.province_id:e[0].id).then((function(a){t.areaList.city_list=t.getChangeCity(a.data.data);var e=a.data.data;t.$ClientAPI.sonArea(t.PersonMessage.city_id?t.PersonMessage.city_id:e[0].id).then((function(a){t.areaList.county_list=t.getChangeCity(a.data.data)}))}))}))},getChangeCity:function(t){for(var a={},e=0;e<t.length;e++)a[t[e].id]=t[e].area_name;return a},onClickConfirm:function(t){var a=this;console.log(t),this.$ClientAPI.UserChange({city_id:t[1].code,district_id:t[2].code,province_id:t[0].code}).then((function(t){console.log(t.data.code),a.getDate()})).catch((function(t){console.log(t)})),this.showAddress=!1},onClickSubject:function(){this.$router.push("/subject")},onConfirms:function(t){this.valueClass=t,localStorage.setItem("valueClass",this.valueClass),this.showPicker=!1}}},r=c,l=(e("197a"),e("2877")),d=Object(l["a"])(r,s,n,!1,null,"da41f8ae",null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-ee368196.e3e05817.js.map